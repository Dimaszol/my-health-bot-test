{% extends "base.html" %}

{% block title %}–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å - –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç{% endblock %}

{% block content %}
<!-- üë§ –°–¢–†–ê–ù–ò–¶–ê –ü–†–û–§–ò–õ–Ø -->

<div style="margin-bottom: 2rem;">
    <h1 style="color: #667eea;">üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>
    <p style="color: #666;">
        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–µ–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∞–Ω–∫–µ—Ç–æ–π
    </p>
</div>

<!-- üìä –û–°–ù–û–í–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø -->
<div class="card">
    <h3>–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
    
    <div style="margin-top: 1.5rem;">
        <div style="display: grid; grid-template-columns: 200px 1fr; gap: 1rem; margin-bottom: 1rem;">
            <strong>–ò–º—è:</strong>
            <span>{{ user.name if user else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}</span>
        </div>
        
        <div style="display: grid; grid-template-columns: 200px 1fr; gap: 1rem; margin-bottom: 1rem;">
            <strong>Email:</strong>
            <span>{{ user.email if user else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}</span>
        </div>
        
        <div style="display: grid; grid-template-columns: 200px 1fr; gap: 1rem; margin-bottom: 1rem;">
            <strong>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:</strong>
            <span>{{ user.created_at.strftime('%d.%m.%Y') if user and user.created_at else '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ' }}</span>
        </div>
    </div>
</div>

<!-- üè• –ú–ï–î–ò–¶–ò–ù–°–ö–ê–Ø –ê–ù–ö–ï–¢–ê -->
<div class="card">
    <h3>–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∞–Ω–∫–µ—Ç–∞</h3>
    <p style="color: #666; margin-bottom: 1.5rem;">
        –≠—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–º–æ–≥–∞–µ—Ç –ò–ò –¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    </p>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
        <!-- –í–æ–∑—Ä–∞—Å—Ç -->
        <div>
            <strong style="display: block; margin-bottom: 0.5rem;">–ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è</strong>
            <span style="color: #666;">{{ user.birth_year if user and user.birth_year else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}</span>
        </div>
        
        <!-- –ü–æ–ª -->
        <div>
            <strong style="display: block; margin-bottom: 0.5rem;">–ü–æ–ª</strong>
            <span style="color: #666;">{{ user.gender if user and user.gender else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}</span>
        </div>
        
        <!-- –†–æ—Å—Ç -->
        <div>
            <strong style="display: block; margin-bottom: 0.5rem;">–†–æ—Å—Ç</strong>
            <span style="color: #666;">{{ user.height_cm if user and user.height_cm else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }} —Å–º</span>
        </div>
        
        <!-- –í–µ—Å -->
        <div>
            <strong style="display: block; margin-bottom: 0.5rem;">–í–µ—Å</strong>
            <span style="color: #666;">{{ user.weight_kg if user and user.weight_kg else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }} –∫–≥</span>
        </div>
    </div>
    
    <!-- –•—Ä–æ–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è -->
    <div style="margin-top: 1.5rem;">
        <strong style="display: block; margin-bottom: 0.5rem;">–•—Ä–æ–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è</strong>
        <p style="color: #666; padding: 1rem; background: white; border-radius: 8px;">
            {{ user.chronic_conditions if user and user.chronic_conditions else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}
        </p>
    </div>
    
    <!-- –ê–ª–ª–µ—Ä–≥–∏–∏ -->
    <div style="margin-top: 1.5rem;">
        <strong style="display: block; margin-bottom: 0.5rem;">–ê–ª–ª–µ—Ä–≥–∏–∏</strong>
        <p style="color: #666; padding: 1rem; background: white; border-radius: 8px;">
            {{ user.allergies if user and user.allergies else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}
        </p>
    </div>
    
    <!-- –õ–µ–∫–∞—Ä—Å—Ç–≤–∞ -->
    <div style="margin-top: 1.5rem;">
        <strong style="display: block; margin-bottom: 0.5rem;">–ü—Ä–∏–Ω–∏–º–∞–µ–º—ã–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞</strong>
        <p style="color: #666; padding: 1rem; background: white; border-radius: 8px;">
            {{ user.medications if user and user.medications else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}
        </p>
    </div>
</div>

<!-- üîÑ –û–ë–†–ê–ó –ñ–ò–ó–ù–ò -->
<div class="card">
    <h3>–û–±—Ä–∞–∑ –∂–∏–∑–Ω–∏</h3>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
        <!-- –ö—É—Ä–µ–Ω–∏–µ -->
        <div>
            <strong style="display: block; margin-bottom: 0.5rem;">üö¨ –ö—É—Ä–µ–Ω–∏–µ</strong>
            <span style="color: #666;">{{ user.smoking if user and user.smoking else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}</span>
        </div>
        
        <!-- –ê–ª–∫–æ–≥–æ–ª—å -->
        <div>
            <strong style="display: block; margin-bottom: 0.5rem;">üç∑ –ê–ª–∫–æ–≥–æ–ª—å</strong>
            <span style="color: #666;">{{ user.alcohol if user and user.alcohol else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}</span>
        </div>
        
        <!-- –§–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å -->
        <div>
            <strong style="display: block; margin-bottom: 0.5rem;">üèÉ –§–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</strong>
            <span style="color: #666;">{{ user.physical_activity if user and user.physical_activity else '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}</span>
        </div>
    </div>
</div>

<!-- ‚ÑπÔ∏è –ò–ù–§–û–†–ú–ê–¶–ò–Ø -->
<div class="alert alert-info">
    <strong>üí° –ö–∞–∫ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É?</strong><br>
    –ï—Å–ª–∏ –≤—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å —á–µ—Ä–µ–∑ –≤–µ–±-—Å–∞–π—Ç, –∞–Ω–∫–µ—Ç–∞ –ø–æ–∫–∞ –ø—É—Å—Ç–∞—è. 
    –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –µ—ë —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞ –∏–ª–∏ –º—ã –¥–æ–±–∞–≤–∏–º —Ñ–æ—Ä–º—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∑–∂–µ.
</div>

<!-- üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –î–ê–ù–ù–´–• -->
<div class="card" style="border-left-color: #dc3545;">
    <h3 style="color: #dc3545;">‚ö†Ô∏è –û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞</h3>
    <p style="color: #666; margin: 1rem 0;">
        –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ–π –ø–æ—Ç–µ—Ä–µ –≤—Å–µ—Ö –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–æ–≤.
    </p>
    <button 
        onclick="confirmDelete()"
        class="btn btn-danger"
    >
        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –º–æ–π –∞–∫–∫–∞—É–Ω—Ç
    </button>
</div>

{% endblock %}

{% block extra_scripts %}
<script>
function confirmDelete() {
    const confirmed = confirm(
        '‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï!\n\n' +
        '–í—ã —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç?\n\n' +
        '–ë—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã:\n' +
        '‚Ä¢ –í—Å–µ –≤–∞—à–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã\n' +
        '‚Ä¢ –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤\n' +
        '‚Ä¢ –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∞–Ω–∫–µ—Ç–∞\n' +
        '‚Ä¢ –ü—Ä–æ—Ñ–∏–ª—å\n\n' +
        '–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –ù–ï–û–ë–†–ê–¢–ò–ú–û!'
    );
    
    if (confirmed) {
        const doubleConfirm = confirm('–í—ã –¢–û–ß–ù–û —É–≤–µ—Ä–µ–Ω—ã? –í–≤–µ–¥–∏—Ç–µ "–î–ê" –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è');
        
        if (doubleConfirm) {
            alert('–§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ');
            // TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å API endpoint –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
        }
    }
}
</script>
{% endblock %}